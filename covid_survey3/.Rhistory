df_health <- get_most_recent_value(df_health) %>%
rename(health_expenditures_usd = value)
df_joined <- df_child_mortality %>%
full_join(df_physicans,by=c('Country Name','Country Code')) %>%
full_join(df_life_expectancy,by=c('Country Name','Country Code')) %>%
full_join(df_health,by=c('Country Name', 'Country Code'))
df_joined <- df_joined %>%
mutate(iso2 = countrycode(`Country Name`, origin="country.name", destination = "iso2c")) %>%
filter(!is.na(iso2)) %>%
select(iso2 ,child_mortality_per_1k, physicans_per_1k, life_expectancy, health_expenditures_usd)
df_covid <- df_covid %>%
mutate(iso2 = countrycode(Country, origin="country.name", destination = "iso2c")) %>%
filter(!is.na(iso2)) %>%
select(Country, iso2, mortality_rate,Cumulative_cases, Date_reported)
df <- df_covid %>%
left_join(df_joined, by= "iso2")
data("World", package = "tmap")
world <- World
world <- world %>%
mutate(iso2 = countrycode(iso_a3, origin = "iso3c", destination = "iso2c"))
world <- world %>%
left_join(df, by= "iso2")
normalize <- function(x) {
return ((x - min(x, na.rm = TRUE)) / (max(x, na.rm = TRUE) - min(x,na.rm = TRUE)))
}
get_most_recent_value <- function(df) {
df <- df %>%
pivot_longer(cols = colnames(df[6:65]), names_to = "year") %>%
mutate_at('year', as.numeric) %>% group_by(`Country Code`) %>%
arrange(-year, .by_group=TRUE) %>%
filter(!is.na(value)) %>%
select(`Country Name`, `Country Code`, year, value)
df <- distinct(df,'Country Code', .keep_all=TRUE)
df <- df[-c(5:5)]
return(df)
}
###
df_covid=read_csv("https://covid19.who.int/WHO-COVID-19-global-data.csv")
df_covid <- df_covid %>%mutate(mortality_rate = Cumulative_deaths/Cumulative_cases)
df_health = read_csv('data/health_expenditures.csv', skip = 3)
df_child_mortality = read_csv('data/child_mortality_rate.csv', skip = 3)
df_life_expectancy = read_csv('data/life_expectancy.csv', skip = 3)
df_physicans = read_csv('data/physicians.csv', skip=3)
df_child_mortality <- get_most_recent_value(df_child_mortality) %>%
rename(child_mortality_per_1k = value)
df_physicans <- get_most_recent_value(df_physicans) %>%
rename(physicans_per_1k = value)
df_life_expectancy <- get_most_recent_value(df_life_expectancy) %>%
rename(life_expectancy = value)
df_health <- get_most_recent_value(df_health) %>%
rename(health_expenditures_usd = value)
df_joined <- df_child_mortality %>%
full_join(df_physicans,by=c('Country Name','Country Code')) %>%
full_join(df_life_expectancy,by=c('Country Name','Country Code')) %>%
full_join(df_health,by=c('Country Name', 'Country Code'))
df_joined <- df_joined %>%
mutate(iso2 = countrycode(`Country Name`, origin="country.name", destination = "iso2c")) %>%
filter(!is.na(iso2)) %>%
select(iso2 ,child_mortality_per_1k, physicans_per_1k, life_expectancy, health_expenditures_usd)
df_covid <- df_covid %>%
mutate(iso2 = countrycode(Country, origin="country.name", destination = "iso2c")) %>%
filter(!is.na(iso2)) %>%
select(Country, iso2, mortality_rate,Cumulative_cases, Date_reported)
df <- df_covid %>%
left_join(df_joined, by= "iso2")
data("World", package = "tmap")
world <- World
world <- world %>%
mutate(iso2 = countrycode(iso_a3, origin = "iso3c", destination = "iso2c"))
world <- world %>%
left_join(df, by= "iso2")
normalize <- function(x) {
return ((x - min(x, na.rm = TRUE)) / (max(x, na.rm = TRUE) - min(x,na.rm = TRUE)))
}
get_most_recent_value <- function(df) {
df <- df %>%
pivot_longer(cols = colnames(df[6:65]), names_to = "year") %>%
mutate_at('year', as.numeric) %>% group_by(`Country Code`) %>%
arrange(-year, .by_group=TRUE) %>%
filter(!is.na(value)) %>%
select(`Country Name`, `Country Code`, year, value)
df <- distinct(df,'Country Code', .keep_all=TRUE)
df <- df[-c(5:5)]
return(df)
}
###
df_covid=read_csv("https://covid19.who.int/WHO-COVID-19-global-data.csv")
df_covid <- df_covid %>%mutate(mortality_rate = Cumulative_deaths/Cumulative_cases)
df_health = read_csv('data/health_expenditures.csv', skip = 3)
df_child_mortality = read_csv('data/child_mortality_rate.csv', skip = 3)
df_life_expectancy = read_csv('data/life_expectancy.csv', skip = 3)
df_physicans = read_csv('data/physicians.csv', skip=3)
df_child_mortality <- get_most_recent_value(df_child_mortality) %>%
rename(child_mortality_per_1k = value)
df_physicans <- get_most_recent_value(df_physicans) %>%
rename(physicans_per_1k = value)
df_life_expectancy <- get_most_recent_value(df_life_expectancy) %>%
rename(life_expectancy = value)
df_health <- get_most_recent_value(df_health) %>%
rename(health_expenditures_usd = value)
df_joined <- df_child_mortality %>%
full_join(df_physicans,by=c('Country Name','Country Code')) %>%
full_join(df_life_expectancy,by=c('Country Name','Country Code')) %>%
full_join(df_health,by=c('Country Name', 'Country Code'))
df_joined <- df_joined %>%
mutate(iso2 = countrycode(`Country Name`, origin="country.name", destination = "iso2c")) %>%
filter(!is.na(iso2)) %>%
select(iso2 ,child_mortality_per_1k, physicans_per_1k, life_expectancy, health_expenditures_usd)
df_covid <- df_covid %>%
mutate(iso2 = countrycode(Country, origin="country.name", destination = "iso2c")) %>%
filter(!is.na(iso2)) %>%
select(Country, iso2, mortality_rate,Cumulative_cases, Date_reported)
df <- df_covid %>%
left_join(df_joined, by= "iso2")
data("World", package = "tmap")
world <- World
world <- world %>%
mutate(iso2 = countrycode(iso_a3, origin = "iso3c", destination = "iso2c"))
world <- world %>%
left_join(df, by= "iso2")
runApp()
normalize <- function(x) {
return ((x - min(x, na.rm = TRUE)) / (max(x, na.rm = TRUE) - min(x,na.rm = TRUE)))
}
get_most_recent_value <- function(df) {
df <- df %>%
pivot_longer(cols = colnames(df[6:65]), names_to = "year") %>%
mutate_at('year', as.numeric) %>% group_by(`Country Code`) %>%
arrange(-year, .by_group=TRUE) %>%
filter(!is.na(value)) %>%
select(`Country Name`, `Country Code`, year, value)
df <- distinct(df,'Country Code', .keep_all=TRUE)
df <- df[-c(5:5)]
return(df)
}
###
df_covid=read_csv("https://covid19.who.int/WHO-COVID-19-global-data.csv")
df_covid <- df_covid %>%mutate(mortality_rate = Cumulative_deaths/Cumulative_cases)
df_health = read_csv('data/health_expenditures.csv', skip = 3)
df_child_mortality = read_csv('data/child_mortality_rate.csv', skip = 3)
df_life_expectancy = read_csv('data/life_expectancy.csv', skip = 3)
df_physicans = read_csv('data/physicians.csv', skip=3)
df_child_mortality <- get_most_recent_value(df_child_mortality) %>%
rename(child_mortality_per_1k = value)
df_physicans <- get_most_recent_value(df_physicans) %>%
rename(physicans_per_1k = value)
df_life_expectancy <- get_most_recent_value(df_life_expectancy) %>%
rename(life_expectancy = value)
df_health <- get_most_recent_value(df_health) %>%
rename(health_expenditures_usd = value)
df_joined <- df_child_mortality %>%
full_join(df_physicans,by=c('Country Name','Country Code')) %>%
full_join(df_life_expectancy,by=c('Country Name','Country Code')) %>%
full_join(df_health,by=c('Country Name', 'Country Code'))
df_joined <- df_joined %>%
mutate(iso2 = countrycode(`Country Name`, origin="country.name", destination = "iso2c")) %>%
filter(!is.na(iso2)) %>%
select(iso2 ,child_mortality_per_1k, physicans_per_1k, life_expectancy, health_expenditures_usd)
df_covid <- df_covid %>%
mutate(iso2 = countrycode(Country, origin="country.name", destination = "iso2c")) %>%
filter(!is.na(iso2)) %>%
select(Country, iso2, mortality_rate,Cumulative_cases, Date_reported)
df <- df_covid %>%
left_join(df_joined, by= "iso2")
data("World", package = "tmap")
world <- World
world <- world %>%
mutate(iso2 = countrycode(iso_a3, origin = "iso3c", destination = "iso2c"))
world <- world %>%
left_join(df, by= "iso2")
normalize <- function(x) {
return ((x - min(x, na.rm = TRUE)) / (max(x, na.rm = TRUE) - min(x,na.rm = TRUE)))
}
get_most_recent_value <- function(df) {
df <- df %>%
pivot_longer(cols = colnames(df[6:65]), names_to = "year") %>%
mutate_at('year', as.numeric) %>% group_by(`Country Code`) %>%
arrange(-year, .by_group=TRUE) %>%
filter(!is.na(value)) %>%
select(`Country Name`, `Country Code`, year, value)
df <- distinct(df,'Country Code', .keep_all=TRUE)
df <- df[-c(5:5)]
return(df)
}
###
df_covid=read_csv("https://covid19.who.int/WHO-COVID-19-global-data.csv")
df_covid <- df_covid %>%mutate(mortality_rate = Cumulative_deaths/Cumulative_cases)
df_health = read_csv('data/health_expenditures.csv', skip = 3)
df_child_mortality = read_csv('data/child_mortality_rate.csv', skip = 3)
df_life_expectancy = read_csv('data/life_expectancy.csv', skip = 3)
df_physicans = read_csv('data/physicians.csv', skip=3)
df_child_mortality <- get_most_recent_value(df_child_mortality) %>%
rename(child_mortality_per_1k = value)
df_physicans <- get_most_recent_value(df_physicans) %>%
rename(physicans_per_1k = value)
df_life_expectancy <- get_most_recent_value(df_life_expectancy) %>%
rename(life_expectancy = value)
df_health <- get_most_recent_value(df_health) %>%
rename(health_expenditures_usd = value)
df_joined <- df_child_mortality %>%
full_join(df_physicans,by=c('Country Name','Country Code')) %>%
full_join(df_life_expectancy,by=c('Country Name','Country Code')) %>%
full_join(df_health,by=c('Country Name', 'Country Code'))
df_joined <- df_joined %>%
mutate(iso2 = countrycode(`Country Name`, origin="country.name", destination = "iso2c")) %>%
filter(!is.na(iso2)) %>%
select(iso2 ,child_mortality_per_1k, physicans_per_1k, life_expectancy, health_expenditures_usd)
df_covid <- df_covid %>%
mutate(iso2 = countrycode(Country, origin="country.name", destination = "iso2c")) %>%
filter(!is.na(iso2)) %>%
select(Country, iso2, mortality_rate,Cumulative_cases, Date_reported)
df <- df_covid %>%
left_join(df_joined, by= "iso2")
data("World", package = "tmap")
world <- World
world <- world %>%
mutate(iso2 = countrycode(iso_a3, origin = "iso3c", destination = "iso2c"))
world <- world %>%
left_join(df, by= "iso2")
normalize <- function(x) {
return ((x - min(x, na.rm = TRUE)) / (max(x, na.rm = TRUE) - min(x,na.rm = TRUE)))
}
get_most_recent_value <- function(df) {
df <- df %>%
pivot_longer(cols = colnames(df[6:65]), names_to = "year") %>%
mutate_at('year', as.numeric) %>% group_by(`Country Code`) %>%
arrange(-year, .by_group=TRUE) %>%
filter(!is.na(value)) %>%
select(`Country Name`, `Country Code`, year, value)
df <- distinct(df,'Country Code', .keep_all=TRUE)
df <- df[-c(5:5)]
return(df)
}
###
df_covid=read_csv("https://covid19.who.int/WHO-COVID-19-global-data.csv")
df_covid <- df_covid %>%mutate(mortality_rate = Cumulative_deaths/Cumulative_cases)
df_health = read_csv('data/health_expenditures.csv', skip = 3)
df_child_mortality = read_csv('data/child_mortality_rate.csv', skip = 3)
df_life_expectancy = read_csv('data/life_expectancy.csv', skip = 3)
df_physicans = read_csv('data/physicians.csv', skip=3)
df_child_mortality <- get_most_recent_value(df_child_mortality) %>%
rename(child_mortality_per_1k = value)
df_physicans <- get_most_recent_value(df_physicans) %>%
rename(physicans_per_1k = value)
df_life_expectancy <- get_most_recent_value(df_life_expectancy) %>%
rename(life_expectancy = value)
df_health <- get_most_recent_value(df_health) %>%
rename(health_expenditures_usd = value)
df_joined <- df_child_mortality %>%
full_join(df_physicans,by=c('Country Name','Country Code')) %>%
full_join(df_life_expectancy,by=c('Country Name','Country Code')) %>%
full_join(df_health,by=c('Country Name', 'Country Code'))
df_joined <- df_joined %>%
mutate(iso2 = countrycode(`Country Name`, origin="country.name", destination = "iso2c")) %>%
filter(!is.na(iso2)) %>%
select(iso2 ,child_mortality_per_1k, physicans_per_1k, life_expectancy, health_expenditures_usd)
df_covid <- df_covid %>%
mutate(iso2 = countrycode(Country, origin="country.name", destination = "iso2c")) %>%
filter(!is.na(iso2)) %>%
select(Country, iso2, mortality_rate,Cumulative_cases, Date_reported)
df <- df_covid %>%
left_join(df_joined, by= "iso2")
data("World", package = "tmap")
world <- World
world <- world %>%
mutate(iso2 = countrycode(iso_a3, origin = "iso3c", destination = "iso2c"))
world <- world %>%
left_join(df, by= "iso2")
normalize <- function(x) {
return ((x - min(x, na.rm = TRUE)) / (max(x, na.rm = TRUE) - min(x,na.rm = TRUE)))
}
get_most_recent_value <- function(df) {
df <- df %>%
pivot_longer(cols = colnames(df[6:65]), names_to = "year") %>%
mutate_at('year', as.numeric) %>% group_by(`Country Code`) %>%
arrange(-year, .by_group=TRUE) %>%
filter(!is.na(value)) %>%
select(`Country Name`, `Country Code`, year, value)
df <- distinct(df,'Country Code', .keep_all=TRUE)
df <- df[-c(5:5)]
return(df)
}
###
df_covid=read_csv("https://covid19.who.int/WHO-COVID-19-global-data.csv")
df_covid <- df_covid %>%mutate(mortality_rate = Cumulative_deaths/Cumulative_cases)
df_health = read_csv('data/health_expenditures.csv', skip = 3)
df_child_mortality = read_csv('data/child_mortality_rate.csv', skip = 3)
df_life_expectancy = read_csv('data/life_expectancy.csv', skip = 3)
df_physicans = read_csv('data/physicians.csv', skip=3)
df_child_mortality <- get_most_recent_value(df_child_mortality) %>%
rename(child_mortality_per_1k = value)
df_physicans <- get_most_recent_value(df_physicans) %>%
rename(physicans_per_1k = value)
df_life_expectancy <- get_most_recent_value(df_life_expectancy) %>%
rename(life_expectancy = value)
df_health <- get_most_recent_value(df_health) %>%
rename(health_expenditures_usd = value)
df_joined <- df_child_mortality %>%
full_join(df_physicans,by=c('Country Name','Country Code')) %>%
full_join(df_life_expectancy,by=c('Country Name','Country Code')) %>%
full_join(df_health,by=c('Country Name', 'Country Code'))
df_joined <- df_joined %>%
mutate(iso2 = countrycode(`Country Name`, origin="country.name", destination = "iso2c")) %>%
filter(!is.na(iso2)) %>%
select(iso2 ,child_mortality_per_1k, physicans_per_1k, life_expectancy, health_expenditures_usd)
df_covid <- df_covid %>%
mutate(iso2 = countrycode(Country, origin="country.name", destination = "iso2c")) %>%
filter(!is.na(iso2)) %>%
select(Country, iso2, mortality_rate,Cumulative_cases, Date_reported)
df <- df_covid %>%
left_join(df_joined, by= "iso2")
data("World", package = "tmap")
world <- World
world <- world %>%
mutate(iso2 = countrycode(iso_a3, origin = "iso3c", destination = "iso2c"))
world <- world %>%
left_join(df, by= "iso2")
runApp()
runApp()
df_covid=read_csv("https://covid19.who.int/WHO-COVID-19-global-data.csv")
df_covid <- df_covid %>%mutate(mortality_rate = Cumulative_deaths/Cumulative_cases)
df_health = read_csv('data/health_expenditures.csv', skip = 3)
df_child_mortality = read_csv('data/child_mortality_rate.csv', skip = 3)
df_life_expectancy = read_csv('data/life_expectancy.csv', skip = 3)
df_physicans = read_csv('data/physicians.csv', skip=3)
df_child_mortality <- get_most_recent_value(df_child_mortality) %>%
rename(child_mortality_per_1k = value)
df_physicans <- get_most_recent_value(df_physicans) %>%
rename(physicans_per_1k = value)
df_life_expectancy <- get_most_recent_value(df_life_expectancy) %>%
rename(life_expectancy = value)
df_health <- get_most_recent_value(df_health) %>%
rename(health_expenditures_usd = value)
df_joined <- df_child_mortality %>%
full_join(df_physicans,by=c('Country Name','Country Code')) %>%
full_join(df_life_expectancy,by=c('Country Name','Country Code')) %>%
full_join(df_health,by=c('Country Name', 'Country Code'))
df_joined <- df_joined %>%
mutate(iso2 = countrycode(`Country Name`, origin="country.name", destination = "iso2c")) %>%
filter(!is.na(iso2)) %>%
select(iso2 ,child_mortality_per_1k, physicans_per_1k, life_expectancy, health_expenditures_usd)
df_covid <- df_covid %>%
mutate(iso2 = countrycode(Country, origin="country.name", destination = "iso2c")) %>%
filter(!is.na(iso2)) %>%
select(Country, iso2, mortality_rate,Cumulative_cases, Date_reported)
df <- df_covid %>%
left_join(df_joined, by= "iso2")
data("World", package = "tmap")
world <- World
world <- world %>%
mutate(iso2 = countrycode(iso_a3, origin = "iso3c", destination = "iso2c"))
world <- world %>%
left_join(df, by= "iso2")
library(shiny)
library(shinydashboard)
library(tidyverse)
library(plotly)
library(DT)
library(sf)
library(shinythemes)
library(readr)
library(tmap)
library(countrycode)
library(RColorBrewer)
library(ggrepel)
library(ggthemes)
library(devtools)
#devtools::install_github('rensa/ggflags')
library(ggflags)
### functions
normalize <- function(x) {
return ((x - min(x, na.rm = TRUE)) / (max(x, na.rm = TRUE) - min(x,na.rm = TRUE)))
}
get_most_recent_value <- function(df) {
df <- df %>%
pivot_longer(cols = colnames(df[6:65]), names_to = "year") %>%
mutate_at('year', as.numeric) %>% group_by(`Country Code`) %>%
arrange(-year, .by_group=TRUE) %>%
filter(!is.na(value)) %>%
select(`Country Name`, `Country Code`, year, value)
df <- distinct(df,'Country Code', .keep_all=TRUE)
df <- df[-c(5:5)]
return(df)
}
###
df_covid=read_csv("https://covid19.who.int/WHO-COVID-19-global-data.csv")
df_covid <- df_covid %>%mutate(mortality_rate = Cumulative_deaths/Cumulative_cases)
df_health = read_csv('data/health_expenditures.csv', skip = 3)
df_child_mortality = read_csv('data/child_mortality_rate.csv', skip = 3)
df_life_expectancy = read_csv('data/life_expectancy.csv', skip = 3)
df_physicans = read_csv('data/physicians.csv', skip=3)
df_child_mortality <- get_most_recent_value(df_child_mortality) %>%
rename(child_mortality_per_1k = value)
df_physicans <- get_most_recent_value(df_physicans) %>%
rename(physicans_per_1k = value)
df_life_expectancy <- get_most_recent_value(df_life_expectancy) %>%
rename(life_expectancy = value)
df_health <- get_most_recent_value(df_health) %>%
rename(health_expenditures_usd = value)
df_joined <- df_child_mortality %>%
full_join(df_physicans,by=c('Country Name','Country Code')) %>%
full_join(df_life_expectancy,by=c('Country Name','Country Code')) %>%
full_join(df_health,by=c('Country Name', 'Country Code'))
df_joined <- df_joined %>%
mutate(iso2 = countrycode(`Country Name`, origin="country.name", destination = "iso2c")) %>%
filter(!is.na(iso2)) %>%
select(iso2 ,child_mortality_per_1k, physicans_per_1k, life_expectancy, health_expenditures_usd)
df_covid <- df_covid %>%
mutate(iso2 = countrycode(Country, origin="country.name", destination = "iso2c")) %>%
filter(!is.na(iso2)) %>%
select(Country, iso2, mortality_rate,Cumulative_cases, Date_reported)
df <- df_covid %>%
left_join(df_joined, by= "iso2")
data("World", package = "tmap")
world <- World
world <- world %>%
mutate(iso2 = countrycode(iso_a3, origin = "iso3c", destination = "iso2c"))
world <- world %>%
left_join(df, by= "iso2")
View(World)
View(world)
runApp('Studium_Master/Visualisierung/Covid-Shiny/covid_survey3')
df_covid=read_csv("https://covid19.who.int/WHO-COVID-19-global-data.csv")
df_covid <- df_covid %>%mutate(mortality_rate = Cumulative_deaths/Cumulative_cases)
df_health = read_csv('data/health_expenditures.csv', skip = 3)
df_child_mortality = read_csv('data/child_mortality_rate.csv', skip = 3)
df_life_expectancy = read_csv('data/life_expectancy.csv', skip = 3)
df_physicans = read_csv('data/physicians.csv', skip=3)
setwd("/Users/fabian-maltemoller/Studium_Master/Visualisierung/Covid-Shiny/covid_survey3")
df_covid=read_csv("https://covid19.who.int/WHO-COVID-19-global-data.csv")
df_covid <- df_covid %>%mutate(mortality_rate = Cumulative_deaths/Cumulative_cases)
df_health = read_csv('data/health_expenditures.csv', skip = 3)
df_child_mortality = read_csv('data/child_mortality_rate.csv', skip = 3)
df_life_expectancy = read_csv('data/life_expectancy.csv', skip = 3)
df_physicans = read_csv('data/physicians.csv', skip=3)
library(shiny)
library(shinydashboard)
library(tidyverse)
library(plotly)
library(DT)
library(sf)
library(shinythemes)
library(readr)
library(tmap)
library(countrycode)
library(RColorBrewer)
library(ggrepel)
library(ggthemes)
library(devtools)
#devtools::install_github('rensa/ggflags')
library(ggflags)
### functions
normalize <- function(x) {
return ((x - min(x, na.rm = TRUE)) / (max(x, na.rm = TRUE) - min(x,na.rm = TRUE)))
}
get_most_recent_value <- function(df) {
df <- df %>%
pivot_longer(cols = colnames(df[6:65]), names_to = "year") %>%
mutate_at('year', as.numeric) %>% group_by(`Country Code`) %>%
arrange(-year, .by_group=TRUE) %>%
filter(!is.na(value)) %>%
select(`Country Name`, `Country Code`, year, value)
df <- distinct(df,'Country Code', .keep_all=TRUE)
df <- df[-c(5:5)]
return(df)
}
###
df_covid=read_csv("https://covid19.who.int/WHO-COVID-19-global-data.csv")
df_covid <- df_covid %>%mutate(mortality_rate = Cumulative_deaths/Cumulative_cases)
df_health = read_csv('data/health_expenditures.csv', skip = 3)
df_child_mortality = read_csv('data/child_mortality_rate.csv', skip = 3)
df_life_expectancy = read_csv('data/life_expectancy.csv', skip = 3)
df_physicans = read_csv('data/physicians.csv', skip=3)
df_child_mortality <- get_most_recent_value(df_child_mortality) %>%
rename(child_mortality_per_1k = value)
df_physicans <- get_most_recent_value(df_physicans) %>%
rename(physicans_per_1k = value)
df_life_expectancy <- get_most_recent_value(df_life_expectancy) %>%
rename(life_expectancy = value)
df_health <- get_most_recent_value(df_health) %>%
rename(health_expenditures_usd = value)
df_joined <- df_child_mortality %>%
full_join(df_physicans,by=c('Country Name','Country Code')) %>%
full_join(df_life_expectancy,by=c('Country Name','Country Code')) %>%
full_join(df_health,by=c('Country Name', 'Country Code'))
df_joined <- df_joined %>%
mutate(iso2 = countrycode(`Country Name`, origin="country.name", destination = "iso2c")) %>%
filter(!is.na(iso2)) %>%
select(iso2 ,child_mortality_per_1k, physicans_per_1k, life_expectancy, health_expenditures_usd)
df_covid <- df_covid %>%
mutate(iso2 = countrycode(Country, origin="country.name", destination = "iso2c")) %>%
filter(!is.na(iso2)) %>%
select(Country, iso2, mortality_rate,Cumulative_cases, Date_reported)
df <- df_covid %>%
left_join(df_joined, by= "iso2")
data("World", package = "tmap")
world <- World
world <- world %>%
mutate(iso2 = countrycode(iso_a3, origin = "iso3c", destination = "iso2c"))
world <- world %>%
left_join(df, by= "iso2")
View(df)
runApp()
runApp()
df_normalize <- df %>% filter(Date_reported == as.Date("2020-12-31") &Cumulative_cases >= 10000)
df_normalize$child_mortality_norm <- 1-normalize(df_normalize$child_mortality_per_1k)
df_normalize$physicans_norm <- normalize(df_normalize$physicans_per_1k)
df_normalize$life_expectancy_norm <- normalize(df_normalize$life_expectancy)
df_normalize$health_expenditures_norm <- normalize(df_normalize$health_expenditures_usd)
df_normalize$iso2_Lower <- tolower(df_normalize$iso2)
View(df_normalize)
runApp()
